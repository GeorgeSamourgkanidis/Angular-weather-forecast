<div class="flex flex-col items-center">
  <!-- Search Input -->
  <app-search-city (searchCityEmitter)="handleGetCityCurrentWeather($event)"></app-search-city>

  <h2 class="mt-8 text-white">Current Weather</h2>

  <mat-card class="w-1/2 mt-4 !border !border-gray-200 !bg-white">
    <mat-card-content class="!flex justify-center">
      <ng-container *ngIf="!(loadingCurrent$ | async)" class="flex justify-center">
        <ng-container *ngIf="currentData$ | async as data">
          <ng-container *ngIf="(data | json) != '{}'">
            <div class="w-full flex justify-between items-center">
              <img class="w-40" src="{{ 'http://openweathermap.org/img/w/' + data.weather[0].icon + '.png' }}" />

              <div class="flex flex-col items-center">
                <div class="flex items-baseline gap-1">
                  <h1>{{ data.main.temp }}</h1>
                  <h2>C</h2>
                </div>
                <h2>{{ data.name }}</h2>
                <span>{{ data.weather[0].description }}</span>
              </div>

              <div class="flex flex-col">
                <span> <span class="font-medium">Wind: </span> {{ data.wind.speed }}m/s</span>
                <span> <span class="font-medium">Humidity: </span> {{ data.main.humidity }}%</span>
                <span> <span class="font-medium">Pressure: </span> {{ data.main.pressure }}mmHg</span>
                <span> <span class="font-medium">Feels like: </span> {{ data.main.feels_like }}</span>
              </div>
            </div>
          </ng-container>
        </ng-container>
      </ng-container>

      <div *ngIf="loadingCurrent$ | async" class="flex justify-center">
        <app-spinner></app-spinner>
      </div>
    </mat-card-content>
  </mat-card>
</div>
